---
id: get-lending-positions
title: "Get all lending positions for an address"
description: "Retrieves all active lending positions for a wallet address across **all supported protocols and chains**."
sidebar_label: "Get all lending positions for an address"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: docs/api/positions/kixago-defi-aggregator-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Get all lending positions for an address"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/lending/positions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Retrieves all active lending positions for a wallet address across **all supported protocols and chains**.

## What You Get

- Collateral deposited (by token, with USD values)
- Assets borrowed (by token, with USD values)
- Health factor and liquidation risk
- APY for each position
- Time estimates until liquidation (if at risk)

## How It Works

1. API queries Aave V2/V3, Compound V2/V3, and MakerDAO
2. Checks Ethereum, Polygon, Arbitrum, and Base simultaneously
3. Returns only positions with active collateral or debt
4. Results are cached for 60 seconds for performance

## Protocol Coverage

- **Aave V2**: Ethereum, Polygon
- **Aave V3**: Ethereum, Polygon, Arbitrum, Base
- **Compound V2**: Ethereum
- **Compound V3**: Ethereum, Arbitrum, Base, Polygon
- **MakerDAO**: Ethereum only

## Response Time

- **With cache**: ~50ms
- **Without cache (first query)**: 2-5 seconds
- **Timeout**: 30 seconds maximum


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"address","in":"query","required":true,"description":"The wallet address to query. Must be a valid Ethereum address (0x... format).\n\n**Example**: `0xf0bb20865277abd641a307ece5ee04e79073416c`\n","schema":{"type":"string","pattern":"^0x[a-fA-F0-9]{40}$"},"example":"0xf0bb20865277abd641a307ece5ee04e79073416c"},{"name":"chains","in":"query","required":false,"description":"Comma-separated list of chains to query. If not provided, queries **all chains**.\n\n**Supported chains**: `ethereum`, `polygon`, `arbitrum`, `base`\n\n**Examples**:\n- `?chains=ethereum` - Ethereum only\n- `?chains=ethereum,polygon` - Ethereum and Polygon\n- (omit parameter) - All chains\n","schema":{"type":"string"},"example":"ethereum,polygon"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successfully retrieved lending positions","content":{"application/json":{"schema":{"type":"object","required":["success","data","timestamp"],"properties":{"success":{"type":"boolean","description":"Whether the request succeeded","example":true},"data":{"type":"object","required":["positions","count","errors","duration","cache_info"],"properties":{"positions":{"type":"array","items":{"type":"object","description":"A normalized lending position across any protocol","required":["protocol","protocol_version","chain","user_address","collateral_details","borrowed_details","collateral_usd","borrowed_usd","ltv_current","ltv_liquidation_threshold","health_factor","is_at_risk","time_to_liquidation","last_updated"],"properties":{"protocol":{"type":"string","description":"Protocol name","enum":["aave","compound","makerdao"],"example":"aave"},"protocol_version":{"type":"string","description":"Protocol version","example":"v3"},"chain":{"type":"string","description":"Blockchain network","enum":["ethereum","polygon","arbitrum","base"],"example":"base"},"user_address":{"type":"string","description":"User's wallet address","example":"0xf0bb20865277abd641a307ece5ee04e79073416c"},"collateral_details":{"type":"array","description":"List of collateral assets","items":{"type":"object","description":"Details for a single token (collateral or borrowed)","required":["token","amount","usd_value","apy","token_address"],"properties":{"token":{"type":"string","description":"Token symbol","example":"WETH"},"amount":{"type":"number","format":"double","description":"Raw token amount (in token's native decimals)","example":1.5},"usd_value":{"type":"number","format":"double","description":"Current USD value of this position","example":4500},"apy":{"type":"number","format":"double","description":"Annual Percentage Yield (for collateral) or Rate (for borrows)","example":2.3},"token_address":{"type":"string","description":"Contract address of the token","example":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"}},"title":"TokenDetail"}},"borrowed_details":{"type":"array","description":"List of borrowed assets","items":{"type":"object","description":"Details for a single token (collateral or borrowed)","required":["token","amount","usd_value","apy","token_address"],"properties":{"token":{"type":"string","description":"Token symbol","example":"WETH"},"amount":{"type":"number","format":"double","description":"Raw token amount (in token's native decimals)","example":1.5},"usd_value":{"type":"number","format":"double","description":"Current USD value of this position","example":4500},"apy":{"type":"number","format":"double","description":"Annual Percentage Yield (for collateral) or Rate (for borrows)","example":2.3},"token_address":{"type":"string","description":"Contract address of the token","example":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"}},"title":"TokenDetail"}},"collateral_usd":{"type":"number","format":"double","description":"Total USD value of all collateral","example":4500},"borrowed_usd":{"type":"number","format":"double","description":"Total USD value of all borrows","example":2000},"ltv_current":{"type":"number","format":"double","description":"Current Loan-to-Value ratio","example":0.44},"ltv_liquidation_threshold":{"type":"number","format":"double","description":"LTV at which liquidation occurs","example":0.8},"health_factor":{"type":"number","format":"double","description":"Health factor representing liquidation risk.\n- > 1.0 = Safe\n- < 1.0 = At risk of liquidation\n","example":1.8},"is_at_risk":{"type":"boolean","description":"True if position is at immediate liquidation risk","example":false},"time_to_liquidation":{"type":"string","description":"Estimated time until liquidation (if at risk)","example":"No immediate risk"},"last_updated":{"type":"string","format":"date-time","description":"Timestamp of last update","example":"2025-10-15T14:30:00Z"}},"title":"LendingPosition"}},"count":{"type":"integer","description":"Number of positions found","example":2},"errors":{"type":"object","additionalProperties":{"type":"string"},"description":"Map of protocol/chain to error messages (if any)","example":{}},"duration":{"type":"string","description":"Time taken to complete request","example":"2.3s"},"cache_info":{"type":"object","properties":{"successes":{"type":"integer","example":2},"errors":{"type":"integer","example":0}}}}},"timestamp":{"type":"string","format":"date-time","example":"2025-10-15T14:30:00Z"}},"title":"LendingPositionsResponse"},"examples":{"singlePosition":{"summary":"User with one Aave position","value":{"success":true,"data":{"positions":[{"protocol":"aave","protocol_version":"v3","chain":"base","user_address":"0xf0bb20865277abd641a307ece5ee04e79073416c","collateral_details":[{"token":"WETH","amount":1.5,"usd_value":4500,"apy":2.3,"token_address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"}],"borrowed_details":[{"token":"USDC","amount":2000,"usd_value":2000,"apy":5.8,"token_address":"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"}],"collateral_usd":4500,"borrowed_usd":2000,"ltv_current":0.44,"ltv_liquidation_threshold":0.8,"health_factor":1.8,"is_at_risk":false,"time_to_liquidation":"No immediate risk","last_updated":"2025-10-15T14:30:00Z"}],"count":1,"errors":{},"duration":"2.3s","cache_info":{"successes":1,"errors":0}},"timestamp":"2025-10-15T14:30:00Z"}},"multiplePositions":{"summary":"User with positions across multiple protocols","value":{"success":true,"data":{"positions":[{"protocol":"aave","protocol_version":"v3","chain":"ethereum","user_address":"0xf0bb20865277abd641a307ece5ee04e79073416c","collateral_details":[{"token":"WETH","amount":10,"usd_value":30000,"apy":2.1,"token_address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"}],"borrowed_details":[{"token":"USDC","amount":15000,"usd_value":15000,"apy":6.2,"token_address":"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"}],"collateral_usd":30000,"borrowed_usd":15000,"ltv_current":0.5,"ltv_liquidation_threshold":0.825,"health_factor":1.65,"is_at_risk":false,"time_to_liquidation":"No immediate risk","last_updated":"2025-10-15T14:30:00Z"},{"protocol":"compound","protocol_version":"v2","chain":"ethereum","user_address":"0xf0bb20865277abd641a307ece5ee04e79073416c","collateral_details":[{"token":"USDC","amount":50000,"usd_value":50000,"apy":4.5,"token_address":"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"}],"borrowed_details":[{"token":"DAI","amount":20000,"usd_value":20000,"apy":5.5,"token_address":"0x6B175474E89094C44Da98b954EedeAC495271d0F"}],"collateral_usd":50000,"borrowed_usd":20000,"ltv_current":0.4,"ltv_liquidation_threshold":0.75,"health_factor":1.875,"is_at_risk":false,"time_to_liquidation":"No immediate risk","last_updated":"2025-10-15T14:30:00Z"}],"count":2,"errors":{},"duration":"3.1s","cache_info":{"successes":2,"errors":0}},"timestamp":"2025-10-15T14:30:00Z"}},"noPositions":{"summary":"User with no active positions","value":{"success":true,"data":{"positions":[],"count":0,"errors":{},"duration":"1.8s","cache_info":{"successes":0,"errors":0}},"timestamp":"2025-10-15T14:30:00Z"}}}}}},"400":{"description":"Invalid request parameters","content":{"application/json":{"schema":{"type":"object","required":["success","error","timestamp"],"properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Human-readable error message","example":"address parameter required"},"timestamp":{"type":"string","format":"date-time","example":"2025-10-15T14:30:00Z"}},"title":"ErrorResponse"},"examples":{"missingAddress":{"summary":"Missing address parameter","value":{"success":false,"error":"address parameter required","timestamp":"2025-10-15T14:30:00Z"}},"invalidAddress":{"summary":"Invalid address format","value":{"success":false,"error":"invalid address format","timestamp":"2025-10-15T14:30:00Z"}}}}}}}}
>
  
</StatusCodes>


      